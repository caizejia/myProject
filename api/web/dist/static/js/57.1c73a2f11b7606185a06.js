webpackJsonp([57],{"63Fs":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n={name:"addTask",data:function(){return{pageName:"新增",task:{supplier_platform:"",supplier_name:"",memo:""},data:{cid:"",name:""},categoryList:[{value:"1",label:"111",children:[{value:"2",label:"222",children:[{value:"3",label:"333",children:[{value:"4",label:"444"}]}]}]}]}},methods:{handleChange:function(e){var a=e.length;this.data.cid=e[a-1]},submitTask:function(){var e={};e.name=this.data.name,e.parent_id=this.data.cid,e.sort="80";var a=this;this.$axios.post("/v1/categories",e).then(function(e){console.log(e),a.$message({type:"success",message:"新增成功!"})}).catch(function(e){a.$message({type:"error",message:"新增失败!"})})},initTable:function(){var e=this;this.$axios.get("/v1/category/initdatas").then(function(a){var t=a.data.data.cate_list;console.log(t);var n=[];t.forEach(function(e,a){if(0==e.parent_id){var i={value:e.id,label:e.name,children:[]};t.forEach(function(a,n){a.parent_id==e.id&&(i.children[n]={},i.children[n].value=a.id,i.children[n].label=a.name,t.forEach(function(e,l){e.parent_id==a.id&&(i.children[n].children=[],i.children[n].children[l]={},i.children[n].children[l].value=e.id,i.children[n].children[l].label=e.name,t.forEach(function(a,t){a.parent_id==e.id&&(i.children[n].children[l].children=[],i.children[n].children[l].children[t]={},i.children[n].children[l].children[t].value=a.id,i.children[n].children[l].children[t].label=a.name)}))}))}),n.push(i)}}),e.categoryList=n,console.log(a)}).catch(function(e){console.log(e)})}},created:function(){this.initTable()}},i={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"container"},[t("el-row",[t("el-col",{attrs:{span:8}},[t("h1",{staticClass:"title"},[e._v(e._s(e.pageName))]),e._v(" "),t("label",{attrs:{for:""}},[e._v("父分类")]),e._v(" "),t("el-cascader",{staticStyle:{width:"100%"},attrs:{size:"medium",options:e.categoryList},on:{change:e.handleChange}}),e._v(" "),t("label",{attrs:{for:""}},[e._v("分类名称")]),t("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.data.name,callback:function(a){e.$set(e.data,"name",a)},expression:"data.name"}})],1)],1),e._v(" "),t("div",{staticClass:"footerButton border-shadow"},[t("el-button",{staticStyle:{"vertical-align":"top"},attrs:{type:"primary"},on:{click:function(a){e.submitTask()}}},[e._v("提交")])],1)],1)},staticRenderFns:[]};var l=t("VU/8")(n,i,!1,function(e){t("RQ9P")},"data-v-3321786c",null);a.default=l.exports},RQ9P:function(e,a){}});
//# sourceMappingURL=57.1c73a2f11b7606185a06.js.map