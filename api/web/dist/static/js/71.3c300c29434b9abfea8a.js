webpackJsonp([71],{"5qm8":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){return{param:{purpose:"purpose"},importFileUrl:"http://api.wms.com/wms-uploads/upload",headers:{Authorization:localStorage.getItem("Authorization")}}},methods:{uploadSuccess:function(t,e,o){console.log("上传文件",t),"success"==t?this.$notify({title:"成功",message:"上传成功",type:"success"}):this.$notify({title:"失败",message:"上传失败，请重试",type:"error"})},uploadError:function(t,e,o){console.log("上传失败，请重试！"+t)},beforeAvatarUpload:function(t){var e="xls"===t.name.split(".")[1],o="xlsx"===t.name.split(".")[1],a=t.size/1024/1024<10;return e||o?a?e||o&&a:(this.$alert("上传模板大小不能超过 10MB!","大小错误",{dangerouslyUseHTMLString:!0}),console.log("上传模板大小不能超过 10MB!"),!1):(this.$alert("上传模板只能是 xls、xlsx 格式!","文件错误",{dangerouslyUseHTMLString:!0}),console.log("上传模板只能是 xls、xlsx 格式!"),!1)},down:function(t){var e=this;console.log("1"),this.$axios({method:"get",url:"/wms-uploads/download?fileName=qinyang",responseType:"blob"}).then(function(t){e.download(t)}).catch(function(t){})},download:function(t){console.log(t);var e=new Blob([t.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=utf-8"}),o=document.createElement("a"),a=window.URL.createObjectURL(e);o.href=a,o.download="qinyang.xlsx",document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(a)}}},l={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("div",{staticStyle:{width:"15%","margin-top":"2%","margin-left":"2%"}},[o("el-upload",{staticClass:"upload-demo",attrs:{drag:"",headers:t.headers,name:"UploadForm[file]",action:t.importFileUrl,data:t.param,onError:t.uploadError,onSuccess:t.uploadSuccess,beforeUpload:t.beforeAvatarUpload,multiple:""}},[o("i",{staticClass:"el-icon-upload"}),t._v(" "),o("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),o("em",[t._v("点击上传")])]),t._v(" "),o("div",{staticClass:"el-upload__tip",staticStyle:{"font-size":"20px"},attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传xls/xlsx文件")])])],1),t._v(" "),o("a",{attrs:{href:"http://api.wms.com/wms-uploads/download?file-name=qinyang"}}),t._v(" "),o("el-button",{staticStyle:{width:"15%","margin-top":"2%","margin-left":"2%"},attrs:{type:"primary"},on:{click:t.down}},[t._v("下载模板"),o("i",{staticClass:"el-icon-download el-icon--right"})])],1)},staticRenderFns:[]},s=o("VU/8")(a,l,!1,null,null,null);e.default=s.exports}});
//# sourceMappingURL=71.3c300c29434b9abfea8a.js.map